
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Me OS - Ultimate Light</title>
    <style>
        /* --- ğŸ¨ Theme Variables (Default: Light Mode) --- */
        :root {
            --bg-gradient: linear-gradient(135deg, #f0f4ff 0%, #e2e8f0 100%);
            --glass-bg: rgba(255, 255, 255, 0.85);
            --glass-border: rgba(0, 0, 0, 0.05);
            --text-main: #1e293b;
            --text-sub: #64748b;
            --card-shadow: 0 8px 32px 0 rgba(148, 163, 184, 0.15);
            
            --primary: #6366f1;     /* Indigo */
            --accent-blue: #0ea5e9; /* Sky */
            --accent-gold: #f59e0b;
            --danger: #ef4444;
            --success: #10b981;
            
            --btn-bg: rgba(0,0,0,0.05);
            --btn-hover: rgba(0,0,0,0.1);
            --input-bg: rgba(255, 255, 255, 0.9);
        }

        /* --- ğŸŒ™ Dark Mode Override --- */
        body.dark-mode {
            --bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --glass-bg: rgba(30, 41, 59, 0.75);
            --glass-border: rgba(255, 255, 255, 0.08);
            --text-main: #f8fafc;
            --text-sub: #94a3b8;
            --card-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            
            --primary: #8b5cf6;
            --btn-bg: rgba(255,255,255,0.1);
            --btn-hover: rgba(255,255,255,0.2);
            --input-bg: rgba(15, 23, 42, 0.6);
        }

        /* --- ğŸš¨ Emergency Mode (Always Red) --- */
        body.emergency-mode {
            --bg-gradient: linear-gradient(135deg, #450a0a 0%, #7f1d1d 100%) !important;
            --glass-bg: rgba(255, 255, 255, 0.9); /* Light card on red bg looks cleaner */
            --text-main: #450a0a;
            --primary: #ef4444;
        }
        body.emergency-mode.dark-mode {
            --glass-bg: rgba(69, 10, 10, 0.9);
            --text-main: #fff;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', -apple-system, sans-serif; }
        
        body {
            background: var(--bg-gradient);
            min-height: 100vh;
            padding: 20px;
            padding-bottom: 140px;
            color: var(--text-main);
            transition: background 0.5s ease, color 0.3s ease;
        }

        /* --- Header --- */
        header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 0 5px; }
        
        .brand { 
            font-size: 2rem; font-weight: 900; letter-spacing: -1px; 
            background: linear-gradient(to right, var(--primary), var(--accent-blue)); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
        }

        .header-controls { display: flex; gap: 12px; align-items: center; position: relative; }

        .btn-icon {
            width: 40px; height: 40px; border-radius: 50%; border: 1px solid var(--glass-border);
            background: var(--glass-bg); color: var(--text-main); cursor: pointer;
            display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
            transition: transform 0.2s;
        }
        .btn-icon:hover { transform: scale(1.1); background: var(--btn-hover); }

        .btn-sim { 
            background: var(--primary); color: white; padding: 8px 20px; border-radius: 30px; 
            font-weight: bold; cursor: pointer; border: none; 
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3); 
            display: flex; align-items: center; gap: 6px; transition: transform 0.2s;
        }
        .btn-sim:hover { transform: scale(1.05); }

        /* --- Status Bar --- */
        .status-bar { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; min-height: 34px; margin-bottom: 20px; }
        .chip { background: var(--btn-bg); border: 1px solid var(--glass-border); padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; display: flex; align-items: center; gap: 6px; animation: slideDown 0.5s; }
        .dot { width: 8px; height: 8px; border-radius: 50%; background: var(--success); }

        /* --- Grid & Widgets --- */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }

        .widget {
            background: var(--glass-bg); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border); border-radius: 24px; padding: 20px;
            display: flex; flex-direction: column; box-shadow: var(--card-shadow);
            transition: all 0.3s; animation: popIn 0.4s ease-out; position: relative; overflow: hidden;
        }
        .widget-head { display: flex; justify-content: space-between; margin-bottom: 15px; font-weight: 700; color: var(--text-sub); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; z-index: 2; }

        /* Chat Widget */
        .chat-box { height: 200px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; font-size: 0.95rem; scroll-behavior: smooth; z-index: 2; }
        .msg { padding: 10px 14px; border-radius: 14px; max-width: 88%; line-height: 1.5; animation: fadeIn 0.3s; }
        .msg.user { background: var(--btn-bg); align-self: flex-end; border-bottom-right-radius: 2px; }
        .msg.ai { background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.2); align-self: flex-start; border-top-left-radius: 2px; }
        .ai-name { font-size: 0.7rem; font-weight: 800; opacity: 0.8; margin-bottom: 4px; display: block; }

        /* Schedule Widget */
        .task-item { display: flex; gap:12px; align-items:center; padding: 12px; background: var(--btn-bg); border-radius: 12px; margin-bottom: 8px; border-left: 3px solid var(--accent-blue); }
        .task-time { font-weight: bold; color: var(--accent-blue); min-width: 50px; font-size: 0.9rem; }

        /* App Monitor (Douyin) */
        .app-card {
            background: linear-gradient(145deg, #222, #000); color: white; border-radius: 16px; padding: 15px;
            display: flex; align-items: center; justify-content: space-between; position: relative; overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .app-info { display: flex; align-items: center; gap: 10px; }
        .app-icon { width: 40px; height: 40px; background: #fff; border-radius: 8px; color: black; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.2rem; }
        .app-timer { font-family: monospace; font-size: 1.5rem; font-weight: bold; color: var(--success); }
        
        .app-card.locked::after {
            content: 'ğŸ”’ LOCKED';
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(239, 68, 68, 0.85); backdrop-filter: blur(4px);
            display: flex; align-items: center; justify-content: center;
            color: white; font-weight: 900; font-size: 1.5rem; letter-spacing: 2px;
            animation: fadeIn 0.3s;
        }
        .progress-bar { position: absolute; bottom: 0; left: 0; height: 4px; background: var(--success); width: 50%; transition: width 0.5s, background 0.5s; }

        /* Time Sentinel */
        .scan-line { position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: var(--accent-blue); box-shadow: 0 0 15px var(--accent-blue); opacity: 0; pointer-events: none; z-index: 1; }
        .widget.scanning .scan-line { opacity: 1; animation: scan 2.5s infinite linear; }
        .log-console { font-family: 'Courier New', monospace; font-size: 0.75rem; color: var(--accent-blue); background: rgba(0,0,0,0.05); padding: 10px; border-radius: 8px; height: 100px; overflow-y: auto; border: 1px solid rgba(14, 165, 233, 0.3); }
        body.dark-mode .log-console { background: rgba(0,0,0,0.3); }

        /* --- Omni Bar --- */
        .omni-container { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); width: 95%; max-width: 600px; z-index: 100; }
        .models { display: flex; justify-content: center; gap: 8px; margin-bottom: 12px; }
        .m-btn { background: var(--glass-bg); color: var(--text-sub); border: 1px solid var(--glass-border); padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.85rem; transition: 0.3s; backdrop-filter: blur(10px); }
        .m-btn.active { background: var(--primary); color: white; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4); border-color: var(--primary); }
        
        .input-wrapper { background: var(--glass-bg); backdrop-filter: blur(20px); padding: 8px; border-radius: 50px; border: 1px solid var(--glass-border); display: flex; align-items: center; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .input { flex: 1; background: transparent; border: none; color: var(--text-main); padding: 10px 20px; outline: none; font-size: 1rem; }
        .mic { width: 44px; height: 44px; border-radius: 50%; border: none; background: var(--btn-bg); color: var(--text-main); cursor: pointer; display: flex; align-items: center; justify-content: center; margin-right: 5px; transition: 0.2s; }
        .mic:hover { background: var(--btn-hover); }
        .mic.recording { background: var(--danger); color: white; animation: pulse 1s infinite; }
        .send { width: 44px; height: 44px; border-radius: 50%; border: none; background: var(--primary); color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: transform 0.1s;}
        .send:active { transform: scale(0.9); }

        /* --- Menu Overlay --- */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 200; display: none; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .menu { background: var(--glass-bg); padding: 30px; border-radius: 24px; width: 90%; max-width: 400px; border: 1px solid var(--glass-border); text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }
        .scenario-btn { width: 100%; padding: 16px; margin: 10px 0; border-radius: 16px; border: 1px solid var(--glass-border); background: var(--btn-bg); color: var(--text-main); cursor: pointer; text-align: left; display: flex; align-items: center; gap: 15px; transition: 0.2s; }
        .scenario-btn:hover { background: var(--primary); border-color: var(--primary); color: white; transform: translateX(5px); }
        .scenario-icon { font-size: 1.6rem; }

        /* Toast */
        .smart-toast { position: fixed; top: 30px; left: 50%; transform: translateX(-50%) translateY(-100px); background: #1e293b; border: 1px solid var(--accent-gold); padding: 15px 25px; border-radius: 50px; color: white; z-index: 300; display: flex; align-items: center; gap: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .smart-toast.show { transform: translateX(-50%) translateY(0); }

        @keyframes scan { 0% { top: 0; opacity: 0; } 20% { opacity: 1; } 80% { opacity: 1; } 100% { top: 100%; opacity: 0; } }
        @keyframes popIn { from { opacity:0; transform: scale(0.95); } to { opacity:1; transform: scale(1); } }
        @keyframes slideDown { from { opacity:0; transform: translateY(-10px); } to { opacity:1; transform: translateY(0); } }
        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }

    </style>
</head>
<body>

    <header>
        <div class="brand">Me OS</div>
        <div class="header-controls">
            <button class="btn-icon" onclick="toggleTheme()" title="Toggle Light/Dark">
                <span id="theme-icon">ğŸŒ™</span>
            </button>
            
            <button class="btn-sim" onclick="openMenu()">
                <span>ğŸ¬</span> æ¼”ç¤ºæ¨¡å¼
            </button>
        </div>
    </header>

    <div id="status-bar" class="status-bar">
        <div class="chip"><div class="dot"></div> OS Online</div>
    </div>

    <main id="grid" class="grid">
        </main>

    <div id="smart-toast" class="smart-toast">
        <div style="font-size:1.5rem">ğŸ””</div>
        <div>
            <div style="font-weight:bold; color:var(--accent-gold)">System Alert</div>
            <div style="font-size:0.85rem" id="toast-msg">Msg</div>
        </div>
    </div>

    <div class="omni-container">
        <div class="models">
            <button class="m-btn deepseek" onclick="setModel('deepseek')">DeepSeek</button>
            <button class="m-btn claude" onclick="setModel('claude')">Claude</button>
            <button class="m-btn gpt active" onclick="setModel('gpt')">ChatGPT</button>
        </div>
        <div class="input-wrapper">
            <input type="text" id="input" class="input" placeholder="Ask AI..." autocomplete="off">
            <button id="mic" class="mic" onclick="toggleMic()">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/><path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/></svg>
            </button>
            <button class="send" onclick="sendMsg()">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
            </button>
        </div>
    </div>

    <div id="overlay" class="overlay" onclick="if(event.target===this) closeMenu()">
        <div class="menu">
            <h3 style="margin-bottom:20px">é€‰æ‹©æ¼”ç¤ºå‰§æœ¬</h3>
            
            <button class="scenario-btn" onclick="runScenario('health')">
                <span class="scenario-icon">ğŸ“</span>
                <div><div style="font-weight:bold">ç»Ÿç­¹è®°å¿†</div><div style="font-size:0.8rem; opacity:0.7">ç”Ÿç—… + æ–‡ä¹¦ + æ—¥ç¨‹</div></div>
            </button>

            <button class="scenario-btn" onclick="runScenario('family')">
                <span class="scenario-icon">ğŸ </span>
                <div><div style="font-weight:bold">å®¶åº­æ—¶å…‰</div><div style="font-size:0.8rem; opacity:0.7">AI è§„åˆ’æ‹œè®¿æ—¶é—´</div></div>
            </button>

            <button class="scenario-btn" onclick="runScenario('time')">
                <span class="scenario-icon">â³</span>
                <div><div style="font-weight:bold">æ—¶é—´å«å£«</div><div style="font-size:0.8rem; opacity:0.7">AI å†³ç­–æ‹¦æˆªæ‰“æ‰°</div></div>
            </button>

            <button class="scenario-btn" onclick="runScenario('detox')">
                <span class="scenario-icon">ğŸ“±</span>
                <div><div style="font-weight:bold">æ•°å­—æ’æ¯’</div><div style="font-size:0.8rem; opacity:0.7">æ„Ÿå†’ + åˆ·æŠ–éŸ³ = å¼ºåˆ¶é”æœº</div></div>
            </button>

            <button class="scenario-btn" onclick="runScenario('emergency')">
                <span class="scenario-icon">ğŸš‘</span>
                <div><div style="font-weight:bold">ç´§æ€¥å‘¼æ•‘</div><div style="font-size:0.8rem; opacity:0.7">å…¨å±å˜çº¢ + SOS</div></div>
            </button>

            <button style="margin-top:15px; background:transparent; border:none; color:var(--text-sub); cursor:pointer" onclick="closeMenu()">å…³é—­</button>
        </div>
    </div>

    <script>
        // ============================================
        // SYSTEM CORE
        // ============================================
        const System = {
            currentModel: 'gpt',
            activeModules: ['chat'],
            memory: { chat: [{role: 'ai', model: 'System', text: 'Me OS å·²å°±ç»ªã€‚'}], appUsage: 0 }
        };

        // ============================================
        // ğŸ¨ THEME TOGGLE
        // ============================================
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            document.getElementById('theme-icon').innerText = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // ============================================
        // RENDER
        // ============================================
        function render() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';

            System.activeModules.forEach(mod => {
                const el = document.createElement('div');
                el.className = 'widget';
                
                // --- Chat ---
                if (mod === 'chat') {
                    el.innerHTML = `<div class="widget-head">ğŸ§  è®°å¿†æµ</div>
                                    <div class="chat-box" id="chat-scroll">
                                        ${System.memory.chat.map(m => `<div class="msg ${m.role}">${m.role==='ai'?`<span class="ai-name" style="color:${getModelColor(m.model)}">${m.model}</span>`:''}${m.text}</div>`).join('')}
                                    </div>`;
                }
                // --- Schedule ---
                else if (mod === 'schedule') {
                    let list = System.memory.schedule && System.memory.schedule.length ? 
                        System.memory.schedule.map(t => `<div class="task-item"><div class="task-time">${t.time}</div><div>${t.event}</div></div>`).join('') : 
                        '<div style="color:var(--text-sub); text-align:center;">æš‚æ— å®‰æ’</div>';
                    el.innerHTML = `<div class="widget-head">ğŸ“… æ™ºèƒ½æ—¥ç¨‹</div>${list}`;
                }
                // --- Time Sentinel ---
                else if (mod === 'time_sentinel') {
                    el.classList.add('scanning');
                    el.innerHTML = `<div class="scan-line"></div><div class="widget-head">â³ æ—¶é—´å«å£«</div><div class="log-console" id="time-log"><div class="log-item">> Service active...</div></div>`;
                }
                // --- App Monitor (Douyin) ---
                else if (mod === 'app_monitor') {
                    const isLocked = System.memory.appLocked;
                    const usage = System.memory.appUsage || "14:58";
                    const barWidth = isLocked ? '100%' : '50%';
                    const barColor = isLocked ? 'var(--danger)' : 'var(--success)';
                    
                    el.innerHTML = `<div class="widget-head">ğŸ“± åº”ç”¨ç›‘æ§</div>
                                    <div class="app-card ${isLocked ? 'locked' : ''}">
                                        <div class="app-info">
                                            <div class="app-icon">ğŸµ</div>
                                            <div><div>Douyin</div><small style="opacity:0.7">Entertainment</small></div>
                                        </div>
                                        <div class="app-timer" id="timer-display">${usage}</div>
                                        <div class="progress-bar" style="width:${barWidth}; background:${barColor}"></div>
                                    </div>`;
                }
                // --- Emergency ---
                else if (mod === 'emergency') {
                    el.style.borderColor = '#ef4444';
                    el.innerHTML = `<div class="widget-head" style="color:#ef4444">ğŸš‘ ç´§æ€¥åŒ»ç–—</div><div style="font-size:2.5rem; font-weight:bold; color:var(--danger)">SOS ACTIVE</div>`;
                }

                grid.appendChild(el);
                if(mod === 'chat') { const s = document.getElementById('chat-scroll'); if(s) s.scrollTop = s.scrollHeight; }
            });
        }

        // ============================================
        // HELPERS
        // ============================================
        function getModelColor(m) { return m.includes('DeepSeek') ? '#38bdf8' : (m.includes('Claude') ? '#f59e0b' : '#8b5cf6'); }
        function setModel(m) {
            System.currentModel = m;
            document.querySelectorAll('.m-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`.m-btn.${m}`).classList.add('active');
        }
        function openMenu() { document.getElementById('overlay').style.display = 'flex'; }
        function closeMenu() { document.getElementById('overlay').style.display = 'none'; }
        async function wait(ms) { return new Promise(r => setTimeout(r, ms)); }
        async function typeText(text) {
            const input = document.getElementById('input'); input.value = "";
            for(let c of text) { input.value += c; await wait(30 + Math.random()*30); }
        }
        async function aiReply(modelName, text, delay=1000) {
            await wait(delay); System.memory.chat.push({role: 'ai', model: modelName, text: text}); render();
        }
        function addChip(text, colorClass='var(--success)') {
            const bar = document.getElementById('status-bar');
            const div = document.createElement('div'); div.className = 'chip'; div.innerHTML = `<div class="dot" style="background:${colorClass}"></div> ${text}`;
            bar.appendChild(div);
        }
        function logTime(text) {
            const console = document.getElementById('time-log');
            if(console) {
                const div = document.createElement('div'); div.className = 'log-item'; div.innerHTML = text;
                console.appendChild(div); console.scrollTop = console.scrollHeight;
            }
        }
        function showToast(msg) {
            const t = document.getElementById('smart-toast');
            document.getElementById('toast-msg').innerText = msg; t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 4000);
        }

        // ============================================
        // SCENARIOS
        // ============================================
        
        async function runScenario(type) {
            closeMenu();
            System.memory = { chat: [], appLocked: false, schedule: [] }; 
            System.activeModules = ['chat'];
            document.body.className = ''; 
            document.getElementById('status-bar').innerHTML = '<div class="chip"><div class="dot"></div> OS Online</div>';
            render();

            if (type === 'health') await runHealthScript();
            if (type === 'family') await runFamilyScript();
            if (type === 'time') await runTimeScript();
            if (type === 'detox') await runDigitalDetoxScript();
            if (type === 'emergency') await runEmergencyScript();
        }

        // ğŸ“± DIGITAL DETOX
        async function runDigitalDetoxScript() {
            System.activeModules = ['chat', 'time_sentinel', 'app_monitor']; render(); await wait(800);
            setModel('deepseek'); await typeText("æ„Ÿå†’äº†ï¼Œå¤´æ™•ï¼Œåªæƒ³åˆ·æŠ–éŸ³ã€‚"); System.memory.chat.push({role:'user', text:document.getElementById('input').value}); document.getElementById('input').value=''; render();
            await aiReply('DeepSeek', 'è®°å½•ï¼šæ„Ÿå†’ (æ„å¿—è–„å¼±)ã€‚å»ºè®®ä¼‘æ¯ã€‚'); addChip('æ„Ÿå†’ (Low Will)', 'var(--danger)');
            logTime("> Detected: Douyin"); logTime("> Standard Limit: 30m"); await wait(1000);
            logTime("> Context: SICK"); logTime("> Adjusting: <span style='color:var(--danger)'>15m</span>"); await wait(1000);
            System.memory.appUsage = "15:00"; System.memory.appLocked = true; render();
            logTime("> LIMIT REACHED. LOCKING."); showToast("ä¸ºäº†ä½ çš„å¥åº·ï¼Œå¼ºåˆ¶åœæ­¢æŠ–éŸ³ã€‚");
            await aiReply('System', 'ğŸ›‘ å·²å¼ºåˆ¶åœæ­¢ã€‚');
            await aiReply('ChatGPT', 'æˆ‘çŸ¥é“ä½ æƒ³åˆ·ï¼Œä½†ä¸ºäº†ä½ çš„å¥åº·ï¼Œæˆ‘ä»‹å…¥äº†ã€‚å»ç¡è§‰å§ã€‚');
        }

        // ğŸ  FAMILY VISIT
        async function runFamilyScript() {
            System.memory.schedule = [{ time: 'å‘¨å…­ 09:00', event: 'å›¢å»º' }]; System.activeModules = ['chat', 'schedule']; render(); await wait(800);
            setModel('gpt'); await typeText("æƒ³æ‹œè®¿çˆ·çˆ·å¥¶å¥¶ï¼Œå¸®æˆ‘è§„åˆ’æ—¶é—´ã€‚"); System.memory.chat.push({role:'user', text:document.getElementById('input').value}); document.getElementById('input').value=''; render();
            await aiReply('ChatGPT', 'å‘¨å…­æ²¡ç©ºã€‚å‘¨æ—¥ä¸‹åˆ14:00ç©ºé—²ä¸”å¤©æ°”å¥½ï¼Œå»ºè®®è¿™æ—¶å»ã€‚'); await wait(1500);
            await typeText("å¥½çš„ï¼Œé”å®šæ—¶é—´ã€‚"); System.memory.chat.push({role:'user', text:document.getElementById('input').value}); document.getElementById('input').value=''; render();
            System.memory.schedule.push({ time: 'å‘¨æ—¥ 14:00', event: 'æ‹œè®¿è€äºº' }); render();
            await aiReply('ChatGPT', 'å·²åˆ›å»ºæ—¥ç¨‹ã€‚åˆ«å¿˜äº†å¸¦æ°´æœã€‚');
        }

        // â³ TIME SENTINEL
        async function runTimeScript() {
            System.activeModules.push('time_sentinel'); render();
            setModel('deepseek'); await typeText("åˆšåƒè¯ï¼Œæƒ³ç¡ä¼šã€‚"); System.memory.chat.push({role:'user', text:document.getElementById('input').value}); document.getElementById('input').value=''; render();
            addChip('ä¼‘æ¯ä¸­'); logTime("> Found: Weekly Report (Low Priority)"); logTime("> Decision: SUPPRESS"); await aiReply('System', 'å·²æ‹¦æˆªä½ä¼˜å…ˆçº§æ‰“æ‰°ã€‚');
            await wait(2000); logTime("> Found: Urgent Call"); showToast("æ£€æµ‹åˆ°ç´§æ€¥ç”µè¯");
        }

        // ğŸš‘ EMERGENCY
        async function runEmergencyScript() {
            document.body.classList.add('emergency-mode'); System.activeModules=['emergency','chat']; render();
            await aiReply('System', 'SOS å·²å¯åŠ¨ã€‚å·²å‘¼å«æ•‘æŠ¤è½¦ã€‚');
        }

        // ğŸ“ HEALTH
        async function runHealthScript() {
            setModel('deepseek'); await typeText("å¤´ç—›å‘çƒ§äº†ã€‚"); System.memory.chat.push({role:'user', text:document.getElementById('input').value}); document.getElementById('input').value=''; render();
            await aiReply('DeepSeek', 'è®°å½•ï¼šç”Ÿç—…ã€‚'); addChip('ç”Ÿç—…', 'var(--danger)');
            setModel('gpt'); await wait(1000); await typeText("æ˜å¤©æœ‰å®‰æ’å—ï¼Ÿ"); System.memory.chat.push({role:'user', text:document.getElementById('input').value}); document.getElementById('input').value=''; render();
            await aiReply('ChatGPT', 'å»ºè®®å–æ¶ˆæ˜å¤©æ—¥ç¨‹ï¼Œèº«ä½“ç¬¬ä¸€ã€‚');
        }

        render();
    </script>
</body>
</html>
